---
import BaseLayout from "../../layouts/BaseLayout.astro";
import Imgur from "../../components/Imgur.astro";

export function getStaticPaths() {
    return [
        { params: { lang: "jp" } },
        { params: { lang: "en" } },
        { params: { lang: "zh" } },
    ];
}

const { lang } = Astro.params;

// Notification Data
const notifications = [
    {
        id: "maintenance",
        type: "info", // info, warning, alert
        show: false, // Toggle this to show/hide
        message: {
            jp: "ãƒ¡ã‚¤ã‚«ãƒ¼ã‚ºãªãŒãŠã‹ã¾ã¤ã‚Šã«å‡ºå±•ã—ã¾ã™ : 2026/03/01",
            en: "We will exhibit at Makers Nagaoka Festival : 2026/03/01",
            zh: "æˆ‘è®¡åˆ’åœ¨ Makersé•¿å†ˆç¥­ï¼ˆMakers Nagaoka Matsuriï¼‰å‡ºå±•ï¼š2026/03/01",
        },
        link: "https://www.instagram.com/nid_techtech", // Optional link
    },
];

const translations = {
    jp: {
        greeting: "ã‚ˆã†ã“ã Lantern-TECH Blog ã¸",
        description: "ã»ãŠãšãã¯çœŸå®Ÿã‚’è¦†ã„éš ã™ã€‚æˆ‘ã€…ã¯è¦‹ãˆãªã„çœŸå®Ÿã‚’è¡¨ç¾ã™ã‚‹ã€‚",
        team: {
            title: "Lantern-TECHã¨ã¯",
            description:
                "é•·å²¡é€ å½¢å¤§å­¦ãƒ‡ã‚¶ã‚¤ãƒ³å­¦ç§‘ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼xãƒ‡ã‚¶ã‚¤ãƒ³é ˜åŸŸ(ä»¥ä¸‹TxD) ä»¤å’Œ7å¹´åº¦ãƒ‡ã‚¶ã‚¤ãƒ³åŸºç¤æ¼”ç¿’II ç¬¬2èª²é¡Œã€Œè¦‹ãˆãªã„ã‚‚ã®ã‚’è¡¨ç¾ã™ã‚‹ã€ã«ãŠã‘ã‚‹åˆ¶ä½œãƒãƒ¼ãƒ ã®ä¸€ã¤ã€‚\nå…¬èªã‚µãƒ¼ã‚¯ãƒ«TECHâ˜†TECHå…ˆç«¯ãƒ¡ãƒ‡ã‚£ã‚¢è¡¨ç¾ã‚µãƒ¼ã‚¯ãƒ«ã®æ´¾ç”Ÿçµ„ç¹”ã€‚\nãƒãƒ¼ãƒ åã¯ã€ãƒ¡ãƒ³ãƒãƒ¼3äººã®é ­æ–‡å­—ã‹ã‚‰é€£æƒ³ã•ã‚Œã‚‹ã€Œã»ãŠãšãã€ã«ç”±æ¥ã™ã‚‹ã€‚\néµœé£¼ : U , è…åŸ : S , å¤§æ¸• : O â†’ USO â†’ å˜˜ â†’ ã»ãŠãšã(èŠ±è¨€è‘‰:å˜˜ã¤ãã€æ¬ºç) â†’ Lantern Plants",
        },
        members: {
            title: "ãƒ¡ãƒ³ãƒãƒ¼",
            ukai: {
                name: "éµœé£¼ åº·å¹³",
                identifier: "@yukiseibei",
                role: "#ãƒãƒ¼ãƒ ãƒªãƒ¼ãƒ€ãƒ¼ #Unity #ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£ #é›‘å‹™",
                details: "249024 ãƒ‡ã‚¶ã‚¤ãƒ³å­¦ç§‘TxDé ˜åŸŸ\nASUSã®ã‚¹ãƒãƒ›ãŒå¥½ã",
            },
            sugawara: {
                name: "è…åŸ ç´¡å®œ",
                identifier: "@sgwr_tmg",
                role: "#åˆ¶ä½œçµ±æ‹¬ #æ–‡å­—ãƒ™ãƒ³ãƒ€ãƒ¼ã‚·ã‚¹ãƒ†ãƒ  #Arduino",
                details: "249083 ãƒ‡ã‚¶ã‚¤ãƒ³å­¦ç§‘TxDé ˜åŸŸ\nMineCraftã‚¬ãƒå‹¢",
            },
            ofuchi: {
                name: "å¤§æ¸• å‡œ",
                identifier: "@rinfromniigata",
                role: "#ã‚³ãƒ³ãƒ™ã‚¢ #åºƒå ± #Webãƒ‡ã‚¶ã‚¤ãƒ³",
                details: "239031 ãƒ‡ã‚¶ã‚¤ãƒ³å­¦ç§‘TxDé ˜åŸŸ\nãƒ‘ã‚½ã‚³ãƒ³ã‚’ã„ã˜ã£ã¦ã‚‹",
            },
        },
        works: {
            title: "Shape Writer",
            description:
                "è¡¨éŸ³æ–‡å­—ã§ã‚ã‚‹ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆ1æ–‡å­—å˜ä½“ã¯è¨˜å·ã«ã™ããšã€ãã‚Œè‡ªä½“ã«ã¯è¨€èªçš„æ„å‘³ã‚’æŒãŸãªã„ã€‚\nã—ã‹ã—è¦å‰‡ã«å¾“ã£ã¦é›†ã¾ã£ã¦ä¸¦ã¶ã“ã¨ã§æ„å‘³ãŒç”Ÿã¾ã‚Œã‚‹ã€‚åŒã˜æ–‡å­—ã§ã‚‚ä¸¦ã³æ–¹ãŒå¤‰ã‚ã‚Œã°æ„å‘³ã‚‚å¤‰ã‚ã‚‹ã€‚\nã“ã®ä½œå“ã¯ã€è¨˜å· - ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆã‚’çµ„ã¿åˆã‚ã›ã¦è¨€è‘‰ã‚’ä½œã‚‹éç¨‹ã‚’è¡¨ç¾ã™ã‚‹ã€‚\né‘‘è³è€…ãŒã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã§è¨€è‘‰ã‚’å…¥åŠ›ã™ã‚‹ã¨ã€å¯¾å¿œã™ã‚‹æ–‡å­—ãŒå‘¼ã³å‡ºã•ã‚Œã‚‹ã€‚æ–‡å­—ã¯ãƒ”ã‚¹ãƒˆãƒ³ã«ã‚ˆã£ã¦æŠ¼ã—å‡ºã•ã‚Œã€ã‚³ãƒ³ãƒ™ã‚¢ã®ä¸Šã«é…ç½®ã•ã‚Œã‚‹ã€‚ã‚³ãƒ³ãƒ™ã‚¢ã«ã‚ˆã£ã¦æ–‡å­—ãŒç§»å‹•ã—ã€æ¬¡ã®æ–‡å­—ãŒé…ç½®ã•ã‚Œã‚‹ã€‚\nã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‹ã‚‰å…¥åŠ›ã•ã‚ŒãŸæ–‡å­—ãƒ‡ãƒ¼ã‚¿ã¯ã€Unityã‚’ä»‹ã—ã¦Arduinoã«é€ã‚‰ã‚Œã‚‹ã€‚Arduinoã¯ãã‚Œã‚’å—ã‘ã¦ã€ã‚µãƒ¼ãƒœãƒ¢ãƒ¼ã‚¿ãƒ¼ã¨ã‚¹ãƒ†ãƒƒãƒ”ãƒ³ã‚°ãƒ¢ãƒ¼ã‚¿ãƒ¼ã‚’åˆ¶å¾¡ã™ã‚‹ã€‚\næ™®æ®µã¯æ„è­˜ã™ã‚‹ã“ã¨ã®ãªã„ã€Œæ„å‘³ã€ã€Œè¨€è‘‰ã€ã€Œè¨€èªã€ãŒç”Ÿã¾ã‚Œã‚‹ç¬é–“ã€‚\nè¨˜å·ã¨è¨€èªã®æ§‹ç¯‰ã®æ§˜å­ã‚’ã“ã®ç›®ã§æ‰ãˆã€ã€Œã“ã¨ã°ã€ã‚’è¦‹ã¤ã‚ç›´ã™ã€‚\n\n2025å¹´åº¦å¤ã®ã‚ªãƒ¼ãƒ—ãƒ³ã‚­ãƒ£ãƒ³ãƒ‘ã‚¹å‡ºå±•ä½œå“",
            linkText: "ãƒ–ãƒ­ã‚°ã‚’è¦‹ã‚‹",
        },
        site: {
            title: "Lantern-TECH Blogã¨ã¯",
            description:
                "ã“ã®ã‚µã‚¤ãƒˆã¯Lantern-TECHã®åˆ¶ä½œãƒãƒ¼ãƒˆã¨ã—ã¦ã€å„ç¨®æƒ…å ±ã‚’è¨˜éŒ²ã™ã‚‹ãŸã‚é‹å–¶ã•ã‚Œã¦ã„ã‚‹ã€‚\nå„æ‹…å½“ã®åˆ¶ä½œãƒãƒ¼ãƒˆã¯ãƒ–ãƒ­ã‚°ã‚«ãƒ†ã‚´ãƒªã§åˆ†é‡åˆ¥ã«æ²è¼‰ã€‚ãã®ä»–ã€ç™ºè¡¨è³‡æ–™ã€å‚è€ƒè³‡æ–™ã‚‚ã¾ã¨ã‚ã¦ã‚ã‚‹ã€‚\næå‡ºç”¨ã®ãƒ¬ãƒãƒ¼ãƒˆã‚’ä½œæˆã™ã‚‹éš›ã®è³‡æ–™ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã¨ã—ã¦ã®æ©Ÿèƒ½ã¨ã€ã‚ªãƒ¼ãƒ—ãƒ³ã‚­ãƒ£ãƒ³ãƒ‘ã‚¹ã‚’å§‹ã‚ã¨ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã«ã¦å±•ç¤ºãƒ»ç´¹ä»‹ã™ã‚‹éš›ã®èª˜å°å…ˆã¨ã—ã¦ã®æ©Ÿèƒ½ã‚’æœ‰ã™ã‚‹ã€‚\nèª²é¡Œåˆ¶ä½œæ™‚ã¯Google Siteã‚’åˆ©ç”¨ã—ã¦ã„ãŸãŒã€2026å¹´2æœˆã«ãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ«ã—ã€æ–°ãƒ‰ãƒ¡ã‚¤ãƒ³ã¸ã®ç§»è¡Œã€3è¨€èªå¯¾å¿œã€è¨˜äº‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å……å®ŸåŒ–ã‚’è¡Œã£ãŸã€‚",
        },
        slideshow: {
            image1: "å‹•ç”»æ’®å½±ãƒ–ãƒªãƒ¼ãƒ•ã‚£ãƒ³ã‚°",
            image2: "3Dãƒ—ãƒªãƒ³ãƒˆæº–å‚™",
            image3: "Arduinoã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°",
            image4: "æ–‡å­—ãƒ™ãƒ³ãƒ€ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã®é…ç·š",
            image5: "æ§‹æˆãƒã‚§ãƒƒã‚¯ä¸­",
            image6: "æœ¬å±•ç¤º",
            image7: "é‘‘è³ã‚¿ã‚¤ãƒ ",
        },
    },
    en: {
        greeting: "Welcome to Lantern-TECH Blog",
        description:
            "The lantern plants vail the truth. We express the unseen truth.",
        team: {
            title: "What is Lantern-TECH?",
            description:
                'This is one of the production teams for the Assignment 2: "Expressing the Invisible," Design Fundamentals II: Technology x Design Field, Department of Design, Nagaoka Institute of Design.\nIt is a spin-off team of the institute officially recognized society, TECHâ˜†TECH Advanced Media Design Society.\nThe team name, "Lantern" (ã»ãŠãšã = Chinese lantern plant), is derived from the initials of its three members: Ukai (U), Sugawara (S), and Ofuchi (O), which spell "USO." USO (å˜˜) means "lie" in Japanese, and the lantern plant\'s flower meanings include "liar" and "deception."',
        },
        members: {
            title: "Members",
            ukai: {
                name: "Ukai Kohei",
                identifier: "@yukiseibei",
                role: "#Team-Leader #Unity #Typography #General-Affairs",
                details:
                    "249024 Department of Design, Technology x Design Field\nI love ASUS Smartphones.",
            },
            sugawara: {
                name: "Sugawara Tsumugi",
                identifier: "@sgwr_tmg",
                role: "#Production-Management #Character-Vendor-System #Arduino",
                details:
                    "249083 Department of Design, Technology x Design Field\nI'm an expert of Minecraft.",
            },
            ofuchi: {
                name: "Ofuchi Rin",
                identifier: "@rinfromniigata",
                role: "#Conveyor #Public-Relations-Documents #Web-Design",
                details:
                    "239031 Department of Design, Technology x Design Field\nI always fiddling with my computers.",
            },
        },
        works: {
            title: "Shape Writer",
            description:
                'A single alphabet letter, a phonetic symbol, is merely a mark and holds no linguistic meaning on its own.\nHowever, when letters gather and align according to rules, meaning emerges. Even with the same letters, a different arrangement alters their meaning.\nThis work expresses the process of creating words by combining symbols - alphabets.\nWhen a viewer types words on a keyboard, the corresponding letters are summoned. The letters are pushed out by pistons and placed onto a conveyor. The conveyor moves the letters, and the next letter is placed.\nLetter data entered from the keyboard is sent to Arduino via Unity.Arduino receives this data and controls servo motors and stepper motors accordingly.\nThis is the moment when "meaning," "words," and "language," which we usually take for granted, are born.\nWitness the construction of symbols into language with your own eyes and re-examine "words."\n\nThis is a work that exibited at Nagaoka Institute of Design Open Campus 2025 Summer.',
            linkText: "View Blog",
        },
        site: {
            title: "About Lantern-TECH Blog",
            description:
                'This website is operated by Lantern-TECH as a production notebook to record various information.\nProduction notes from each team member are published by field in the "Blog" category. In addition, presentation materials and reference materials are also compiled.\nIt functions as a document archive for creating reports to be submitted to the institute, and as a destination for guiding visitors when exhibiting and introducing our work at events such as open campuses.\nWe used Google Sites during the project\'s production, but in February 2026, we renewed the site, migrating to a new domain, adding support for three languages, and enriching the article content.',
        },
        slideshow: {
            image1: "Video Shooting Briefing",
            image2: "3D Printing Preparation",
            image3: "Arduino Coding",
            image4: "Wiring the Character Vendor System",
            image5: "Configuration Check",
            image6: "Exhibition",
            image7: "Appreciation Time",
        },
    },
    zh: {
        greeting: "æ¬¢è¿æ¥åˆ°Lantern-TECH Blog",
        description: "é…¸æµ†æœæ©ç›–çœŸç›¸ï¼Œæˆ‘ä»¬è¡¨ç°çœ‹ä¸è§çš„çœŸç›¸ã€‚",
        team: {
            title: "Lantern-TECHæ˜¯ä»€ä¹ˆ?",
            description:
                "é•¿å†ˆé€ å½¢å¤§å­¦è®¾è®¡ç³»ç§‘æŠ€xè®¾è®¡é¢†åŸŸï¼ˆä»¥ä¸‹ç®€ç§°TxDï¼‰2025å¹´åº¦è®¾è®¡åŸºç¡€æ¼”ä¹ IIç¬¬äºŒè¯¾é¢˜â€œè¡¨ç°çœ‹ä¸è§çš„äº‹ç‰©â€çš„åˆ¶ä½œå°ç»„ä¹‹ä¸€ã€‚\nè¯¥å°ç»„æ˜¯å¤§å­¦å®˜æ–¹ç¤¾å›¢â€œTECHâ˜†TECHå°–ç«¯åª’ä½“è¡¨ç°ç¤¾å›¢â€çš„è¡ç”Ÿç»„ç»‡ã€‚\nå°ç»„åç§°æºäºä¸‰åæˆå‘˜å§“æ°é¦–å­—æ¯è”æƒ³åˆ°çš„â€œé…¸æµ†æœï¼ˆç¯ç¬¼æœï¼‰â€ã€‚\né¹ˆé¥² : U , è…åŸ : S , å¤§æ¸• : O â†’ USO â†’ å˜˜ï¼ˆè°è¨€ï¼‰â†’ é…¸æµ†æœï¼ˆèŠ±è¯­ï¼šè°è¨€ã€æ¬ºç’ï¼‰â†’ Lantern Plants",
        },
        members: {
            title: "æˆå‘˜",
            ukai: {
                name: "é¹ˆé¥² åº·å¹³",
                identifier: "@yukiseibei",
                role: "#å›¢é˜Ÿè´Ÿè´£äºº #Unity #æ’ç‰ˆ #æ‚åŠ¡",
                details:
                    "249024 é•·å†ˆé€ å½¢å¤§å­¦è¨­è¨ˆç³»ç§‘æŠ€xè¨­è¨ˆé ˜åŸŸ\næˆ‘çˆ±ASUSæ™ºèƒ½æ‰‹æœº",
            },
            sugawara: {
                name: "è…åŸ çººå®œ",
                identifier: "@sgwr_tmg",
                role: "#åˆ¶ä½œç»Ÿç­¹ #æ–‡å­—æä¾›ç³»ç»Ÿ #Arduino",
                details:
                    '249083 é•·å†ˆé€ å½¢å¤§å­¦è¨­è¨ˆç³»ç§‘æŠ€xè¨­è¨ˆé ˜åŸŸ\n"æˆ‘çš„ä¸–ç•Œ"ä¸“å®¶',
            },
            ofuchi: {
                name: "å¤§æ¸• å‡›",
                identifier: "@rinfromniigata",
                role: "#ä¼ é€å¸¦ #å®£ä¼  #Webè®¾è®¡",
                details: "239031 é•·å†ˆé€ å½¢å¤§å­¦è¨­è¨ˆç³»ç§‘æŠ€xè¨­è¨ˆé ˜åŸŸ\næ€»æ˜¯æ‘†å¼„ç”µè„‘",
            },
        },
        works: {
            title: "Shape Writer",
            description:
                'ä½œä¸ºè¡¨éŸ³æ–‡å­—ï¼Œå­—æ¯è¡¨ä¸­çš„å•ä¸ªå­—æ¯ä»…ä»…æ˜¯ä¸€ä¸ªç¬¦å·ï¼Œå…¶æœ¬èº«å¹¶ä¸å…·å¤‡è¯­è¨€å­¦ä¸Šçš„æ„ä¹‰ã€‚\nç„¶è€Œï¼Œå½“å®ƒä»¬æŒ‰ç…§ä¸€å®šçš„è§„åˆ™ç»„åˆæ’åˆ—æ—¶ï¼Œæ„ä¹‰ä¾¿éšä¹‹äº§ç”Ÿã€‚å³ä½¿æ˜¯åŒæ ·çš„å­—æ¯ï¼Œå¦‚æœæ’åˆ—é¡ºåºæ”¹å˜ï¼Œå…¶æ„ä¹‰ä¹Ÿä¼šå‘ç”Ÿå˜åŒ–ã€‚\næœ¬ä½œå“è¡¨ç°äº†å°†ç¬¦å·ï¼ˆå­—æ¯ï¼‰è¿›è¡Œç»„åˆå¹¶åˆ›é€ å‡ºè¯æ±‡çš„è¿‡ç¨‹ã€‚\nå½“è§‚ä¼—é€šè¿‡é”®ç›˜è¾“å…¥è¯æ±‡æ—¶ï¼Œç›¸åº”çš„å­—æ¯å°±ä¼šè¢«è°ƒç”¨ã€‚å­—æ¯ç”±æ´»å¡æ¨åˆ°ä¼ é€å¸¦ä¸Šï¼Œå¹¶æŒ‰é¡ºåºæ’åˆ—ã€‚éšç€ä¼ é€å¸¦çš„ç§»åŠ¨ï¼Œä¸‹ä¸€ä¸ªå­—æ¯ä¹Ÿä¼šè¢«æ”¾ç½®åœ¨ç›¸åº”çš„ä½ç½®ã€‚\né€šè¿‡é”®ç›˜è¾“å…¥çš„å­—æ¯æ•°æ®ï¼Œç»ç”±Unityä¼ è¾“è‡³Arduinoã€‚Arduinoæ¥æ”¶åˆ°æ•°æ®åï¼Œå¯¹èˆµæœºå’Œæ­¥è¿›ç”µæœºè¿›è¡Œæ§åˆ¶ã€‚\näººä»¬åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­å¾€å¾€å¹¶ä¸ä¼šæ„è¯†åˆ°"æ„ä¹‰"ã€"è¯æ±‡"ä»¥åŠ"è¯­è¨€"äº§ç”Ÿçš„ç¬é—´ã€‚\næœ¬ä½œå“æ—¨åœ¨é€šè¿‡äº²çœ¼æ•æ‰ç¬¦å·æ„å»ºæˆè¯­è¨€çš„è¿‡ç¨‹ï¼Œæ¥é‡æ–°å®¡è§†æˆ‘ä»¬æ‰€ä½¿ç”¨çš„"è¨€è¯­"ã€‚\n\n2025å¹´åº¦é•¿å†ˆé€ å‹å¤§å­¦å¤å­£å¼€æ”¾æ ¡å›­å±•ä½œå“',
            linkText: "æŸ¥çœ‹åšå®¢",
        },
        site: {
            title: "å…³äºLantern-TECH Blog",
            description:
                "æœ¬ç½‘ç«™ä½œä¸ºLantern-TECHçš„åˆ¶ä½œç¬”è®°ï¼Œæ—¨åœ¨è®°å½•å„ç§ä¿¡æ¯ã€‚\nå„è´Ÿè´£äººçš„åˆ¶ä½œç¬”è®°æŒ‰é¢†åŸŸåˆ†ç±»åˆŠç™»åœ¨åšå®¢æ ç›®ä¸­ã€‚æ­¤å¤–ï¼Œè¿˜æ±‡é›†äº†å‘å¸ƒèµ„æ–™å’Œå‚è€ƒæ–‡çŒ®ã€‚\næœ¬ç½‘ç«™æ—¢å…·å¤‡æ’°å†™æäº¤æŠ¥å‘Šæ—¶çš„èµ„æ–™å­˜æ¡£åŠŸèƒ½ï¼Œä¹Ÿå…·å¤‡åœ¨å¼€æ”¾æ—¥ç­‰æ´»åŠ¨ä¸­è¿›è¡Œå±•ç¤ºå’Œä»‹ç»æ—¶çš„å¼•å¯¼åŠŸèƒ½ã€‚\nåœ¨è¿›è¡Œè¯¾é¢˜åˆ¶ä½œæœŸé—´æ›¾ä½¿ç”¨è°·æ­ŒSiteï¼Œä½†äº2026å¹´2æœˆè¿›è¡Œäº†æ”¹ç‰ˆï¼ŒåŒ…æ‹¬è¿ç§»è‡³æ–°åŸŸåã€æ”¯æŒä¸‰ç§è¯­è¨€ä»¥åŠä¸°å¯Œæ–‡ç« å†…å®¹ã€‚",
        },
        slideshow: {
            image1: "è§†é¢‘æ‹æ‘„ç®€æŠ¥",
            image2: "3Dæ‰“å°å‡†å¤‡",
            image3: "Arduinoç¼–ç¨‹",
            image4: "æ–‡å­—æä¾›ç³»ç»Ÿçš„é…çº¿",
            image5: "æ„æˆæ£€æŸ¥ä¸­",
            image6: "æœ¬å±•ç¤º",
            image7: "é‰´èµæ—¶é—´",
        },
    },
};

const t = translations[lang as keyof typeof translations] || translations.jp;

// Slideshow Data
const slides = [
    {
        id: "https://images.unsplash.com/photo-1451187580459-43490279c0fa?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80",
        altKey: "image1",
    },
    {
        id: "https://images.unsplash.com/photo-1518770660439-4636190af475?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80",
        altKey: "image2",
    },
    {
        id: "https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80",
        altKey: "image3",
    },
];
---

<BaseLayout title={`Lantern-TECH Blog - ${lang.toUpperCase()}`} lang={lang}>
    <!-- 1. Banner Slideshow -->
    <section class="slideshow" id="hero-slideshow">
        <div class="slideshow-container">
            <!-- Placeholder images - Replace with 1920x1080 assets -->
            <div class="slide fade">
                <Imgur
                    id="https://i.imgur.com/bmFaGJG.jpeg"
                    alt={t.slideshow.image1}
                />
            </div>
            <div class="slide fade">
                <Imgur
                    id="https://i.imgur.com/sKgTu6X.jpeg"
                    alt={t.slideshow.image2}
                />
            </div>
            <div class="slide fade">
                <Imgur
                    id="https://i.imgur.com/aJeimcZ.jpeg"
                    alt={t.slideshow.image3}
                />
            </div>
            <div class="slide fade">
                <Imgur
                    id="https://i.imgur.com/9bx5LcO.jpeg"
                    alt={t.slideshow.image4}
                />
            </div>
            <div class="slide fade">
                <Imgur
                    id="https://i.imgur.com/tPv8oB2.jpeg"
                    alt={t.slideshow.image5}
                />
            </div>
            <div class="slide fade">
                <Imgur
                    id="https://i.imgur.com/BK8NnMz.jpeg"
                    alt={t.slideshow.image6}
                />
            </div>
            <div class="slide fade">
                <Imgur
                    id="https://i.imgur.com/ADb1qyK.jpeg"
                    alt={t.slideshow.image7}
                />
            </div>

            <a class="prev" onclick="moveSlide(-1)">&#10094;</a>
            <a class="next" onclick="moveSlide(1)">&#10095;</a>
            <div class="alt-caption" id="alt-caption"></div>
        </div>
    </section>

    <!-- 2. Site Title -->
    <section class="site-title-section">
        <h1>{t.greeting}</h1>
        <p>{t.description}</p>
    </section>

    <!-- 3. Notify -->
    <!-- Server-side Rendered Notifications -->
    {
        notifications.map(
            (note) =>
                note.show && (
                    <section
                        class={`notify-section ${note.type}`}
                        id={`notify-${note.id}`}
                    >
                        <div class="notify-content">
                            <span class="notify-icon">
                                {note.type === "warning"
                                    ? "âš ï¸"
                                    : note.type === "alert"
                                      ? "ğŸš¨"
                                      : "â„¹ï¸"}
                            </span>
                            <span>
                                {note.message[
                                    lang as keyof typeof note.message
                                ] || note.message.jp}
                                {note.link && (
                                    <a
                                        href={note.link}
                                        style="text-decoration: underline; margin-left: 5px; color: inherit;"
                                    >
                                        &rarr;
                                    </a>
                                )}
                            </span>
                            <button
                                class="notify-close"
                                onclick={`document.getElementById('notify-${note.id}').style.display='none'`}
                            >
                                Ã—
                            </button>
                        </div>
                    </section>
                ),
        )
    }

    <!-- Client-side Language Switch Notification -->
    <section class="notify-section" id="notify-section" style="display: none;">
        <div class="notify-content">
            <span class="notify-icon">ğŸŒ</span>
            <span id="notify-message"></span>
            <button id="notify-close" onclick="closeNotify()">Ã—</button>
        </div>
    </section>

    <!-- 4. Team Intro -->
    <hr />
    <section class="content-section">
        <div class="text-column">
            <h2>{t.team.title}</h2>
            <div class="description-content">
                {
                    t.team.description
                        .split("\n")
                        .map((line) => <span class="text-line">{line}</span>)
                }
            </div>
        </div>
        <div class="image-column">
            <div class="image-wrapper">
                <Imgur
                    id="https://i.imgur.com/nJknyEc.png"
                    alt="Lantern-TECH CI"
                />
                <Imgur
                    id="https://i.imgur.com/D4fiLMa.jpg"
                    alt="Lantern-TECH Members"
                />
            </div>
        </div>
    </section>

    <!-- 5. Member Intro -->
    <hr />
    <section class="members-section">
        <h2>{t.members.title}</h2>
        <div class="members-grid">
            <!-- Member 1 -->
            <div class="member-card member-1">
                <div class="member-header">
                    <div class="member-avatar">
                        <Imgur
                            id="https://i.imgur.com/hQjxVd9.jpeg"
                            alt="Ukai Kohei"
                        />
                    </div>
                    <div class="member-info">
                        <h3>
                            {t.members.ukai.name}
                            <span class="member-identifier"
                                >{t.members.ukai.identifier}</span
                            >
                        </h3>
                        <p class="member-role">{t.members.ukai.role}</p>
                    </div>
                </div>
                <div class="member-details">
                    {
                        t.members.ukai.details
                            .split("\n")
                            .map((line) => (
                                <span class="text-line">{line}</span>
                            ))
                    }
                </div>
            </div>

            <!-- Member 2 -->
            <div class="member-card member-2">
                <div class="member-header">
                    <div class="member-avatar">
                        <Imgur
                            id="https://i.imgur.com/KaiOu3O.jpeg"
                            alt="Sugawara Tsumugi"
                        />
                    </div>
                    <div class="member-info">
                        <h3>
                            {t.members.sugawara.name}
                            <span class="member-identifier"
                                >{t.members.sugawara.identifier}</span
                            >
                        </h3>
                        <p class="member-role">{t.members.sugawara.role}</p>
                    </div>
                </div>
                <div class="member-details">
                    {
                        t.members.sugawara.details
                            .split("\n")
                            .map((line) => (
                                <span class="text-line">{line}</span>
                            ))
                    }
                </div>
            </div>

            <!-- Member 3 -->
            <div class="member-card member-3">
                <div class="member-header">
                    <div class="member-avatar">
                        <Imgur
                            id="https://i.imgur.com/3o0KHbP.jpeg"
                            alt="Ofuchi Rin"
                        />
                    </div>
                    <div class="member-info">
                        <h3>
                            {t.members.ofuchi.name}
                            <span class="member-identifier"
                                >{t.members.ofuchi.identifier}</span
                            >
                        </h3>
                        <p class="member-role">{t.members.ofuchi.role}</p>
                    </div>
                </div>
                <div class="member-details">
                    {
                        t.members.ofuchi.details
                            .split("\n")
                            .map((line) => (
                                <span class="text-line">{line}</span>
                            ))
                    }
                </div>
            </div>
        </div>
    </section>

    <!-- 6. Works Overview -->
    <hr />
    <section class="content-section">
        <div class="text-column">
            <h2>{t.works.title}</h2>
            <div class="description-content">
                {
                    t.works.description
                        .split("\n")
                        .map((line) => <span class="text-line">{line}</span>)
                }
            </div>
            <p style="margin-top: 1.5rem;">
                <a href={`/${lang}/blog`}>{t.works.linkText} &rarr;</a>
            </p>
        </div>
        <div class="image-column">
            <div class="image-wrapper">
                <Imgur
                    id="https://i.imgur.com/bqOY6Xp.gif"
                    alt="Shape Writer Overview"
                />
                <Imgur
                    id="https://i.imgur.com/0Bf928U.jpg"
                    alt="Shape Writer Main ShowCase"
                />
                <Imgur
                    id="https://i.imgur.com/ww9SDpV.png"
                    alt="Shape Writer Shown in OpenCampus"
                />
            </div>
        </div>
    </section>

    <!-- 7. Site Introduction -->
    <hr />
    <section class="content-section">
        <div class="text-column">
            <h2>{t.site.title}</h2>
            <div class="description-content">
                {
                    t.site.description
                        .split("\n")
                        .map((line) => <span class="text-line">{line}</span>)
                }
            </div>
        </div>
        <div class="image-column">
            <div class="image-wrapper">
                <Imgur
                    id="https://i.imgur.com/RRV8H1K.png"
                    alt="Lantern-TECH Blog old version"
                />
            </div>
        </div>
    </section>
</BaseLayout>

<script is:inline define:vars={{ currentLang: lang }}>
    // Slideshow Logic
    let slideIndex = 1;
    let isAltMode = false;

    // Shuffle Slides (Client-side)
    const container = document.querySelector(".slideshow-container");
    if (container) {
        const slides = Array.from(container.getElementsByClassName("slide"));
        const prevBtn = container.querySelector(".prev");

        // Fisher-Yates Shuffle for DOM elements
        for (let i = slides.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [slides[i], slides[j]] = [slides[j], slides[i]];
        }

        // Re-append slides in new order before the navigation buttons
        slides.forEach((slide) => {
            container.insertBefore(slide, prevBtn);
        });
    }

    const caption = document.getElementById("alt-caption");

    if (container) {
        container.addEventListener("click", (e) => {
            // Ignore clicks on nav buttons
            if (e.target.closest(".prev") || e.target.closest(".next")) return;

            isAltMode = !isAltMode;
            if (isAltMode) {
                if (caption) caption.style.display = "block";
                updateCaption();
            } else {
                if (caption) caption.style.display = "none";
            }
        });
    }

    showSlides(slideIndex);

    // Auto slide every 5 seconds
    setInterval(() => {
        moveSlide(1);
    }, 5000);

    // Expose moveSlide to global scope for onclick handlers
    window.moveSlide = function (n) {
        showSlides((slideIndex += n));
    };

    function showSlides(n) {
        let i;
        let slides = document.getElementsByClassName("slide");
        if (slides.length === 0) return;

        if (n > slides.length) {
            slideIndex = 1;
        }
        if (n < 1) {
            slideIndex = slides.length;
        }

        for (i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
        }
        slides[slideIndex - 1].style.display = "block";

        if (isAltMode) {
            updateCaption();
        }
    }

    function updateCaption() {
        if (!caption) return;
        let slides = document.getElementsByClassName("slide");
        if (slides.length === 0) return;

        const currentSlide = slides[slideIndex - 1];
        const img = currentSlide.querySelector("img");
        if (img) {
            caption.textContent = img.alt || "No description";
        }
    }

    // Notify Logic
    // Simple check: if browser lang doesn't match page lang, suggest switch
    const browserLang = navigator.language || navigator.userLanguage;
    const notifySection = document.getElementById("notify-section");
    const notifyMessage = document.getElementById("notify-message");

    // Config for suggestion
    const langMap = {
        ja: "jp",
        en: "en",
        zh: "zh",
    };

    // Get primary lang part (e.g. 'en-US' -> 'en')
    const primaryLang = browserLang.split("-")[0];
    const targetLang = langMap[primaryLang];

    if (targetLang && targetLang !== currentLang) {
        // Show notification
        // Simple message map
        const messages = {
            jp: "æ—¥æœ¬èªç‰ˆã‚’è¡¨ç¤ºã—ã¾ã™ã‹ï¼Ÿ",
            en: "Switch to English version?",
            zh: "åˆ‡æ¢åˆ°ä¸­æ–‡ç‰ˆï¼Ÿ",
        };

        const msg =
            messages[targetLang] || `Switch to ${targetLang.toUpperCase()}?`;
        // Create link
        const link = `<a href="/${targetLang}" style="text-decoration: underline; font-weight: bold; color: inherit; margin-left: 5px;">â†’</a>`;

        if (notifyMessage) {
            notifyMessage.innerHTML = msg + link;
            if (notifySection) notifySection.style.display = "block";
        }
    }

    window.closeNotify = function () {
        if (notifySection) notifySection.style.display = "none";
    };
</script>

<style>
    hr {
        border: 0;
        height: 1px;
        background: #eee;
        margin: 3rem 0;
    }

    /* Slideshow Styles */
    .slideshow {
        margin-bottom: 2rem;
        /* Negate padding of main container to go full width if desired, 
           but here we fit within the main column per requirement 
           "Images width is same as content area" */
        width: 100%;
        position: relative;
    }

    .slideshow-container {
        position: relative;
        margin: auto;
        width: 100%;
        aspect-ratio: 16 / 9;
        overflow: hidden;
        background: #f0f0f0;
        border-radius: 8px;
        cursor: pointer;
    }

    .slide {
        display: none;
        width: 100%;
        height: 100%;
    }

    /* Modify Imgur component created structure if needed, usually it's just img */
    .slide :global(img) {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .prev,
    .next {
        cursor: pointer;
        position: absolute;
        top: 50%;
        width: auto;
        padding: 16px;
        margin-top: -22px;
        color: white;
        font-weight: bold;
        font-size: 18px;
        transition: 0.6s ease;
        border-radius: 0 3px 3px 0;
        user-select: none;
        background-color: rgba(0, 0, 0, 0.3);
    }

    .next {
        right: 0;
        border-radius: 3px 0 0 3px;
    }

    .prev:hover,
    .next:hover {
        background-color: rgba(0, 0, 0, 0.8);
    }

    .alt-caption {
        display: none;
        position: absolute;
        bottom: 0px;
        width: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        color: white;
        text-align: center;
        padding: 10px;
        font-size: 1rem;
        box-sizing: border-box;
        z-index: 10;
        animation: fade 0.5s;
    }

    /* Animation */
    .fade {
        animation-name: fade;
        animation-duration: 1.5s;
    }

    @keyframes fade {
        from {
            opacity: 0.4;
        }
        to {
            opacity: 1;
        }
    }

    /* Site Title */
    .site-title-section {
        text-align: center;
        padding: 2rem 0;
    }

    .site-title-section h1 {
        font-size: 2.5rem;
        margin-bottom: 1rem;
        font-weight: 800; /* ExtraBold */
    }

    .site-title-section p {
        font-size: 1.2rem;
        color: #666;
    }

    .text-column p,
    .member-details p {
        /* Reset default margins if needed */
        margin: 0;
    }

    .text-line {
        display: block;
        line-height: 1.5; /* Adjusted to ~1.25x visual feel */
        min-height: 1.5em;
    }

    .text-line + .text-line {
        margin-top: 1.5em; /* Adjusted to ~1.5x spacer */
    }

    /* Notify Section */
    .notify-section {
        background-color: #e3f2fd;
        color: #0d47a1;
        padding: 1rem;
        border-radius: 4px;
        margin-bottom: 2rem;
        text-align: center;
        position: relative;
    }

    .notify-content {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 0.5rem;
    }

    #notify-close,
    .notify-close {
        background: none;
        border: none;
        font-size: 1.2rem;
        cursor: pointer;
        color: inherit;
        position: absolute;
        right: 1rem;
        top: 0.5rem;
    }

    /* Notification Types */
    .notify-section.warning {
        background-color: #fff3e0;
        color: #e65100;
    }
    .notify-section.alert {
        background-color: #ffebee;
        color: #c62828;
    }

    /* Members Grid */
    .members-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 1.5rem;
        margin-top: 1.5rem;
    }

    @media (min-width: 768px) {
        .members-grid {
            grid-template-columns: repeat(3, 1fr);
        }
    }

    .member-card {
        background: #f9f9f9;
        border-radius: 12px;
        padding: 1.5rem;
        /* Pastel colors for "islands" */
    }

    .member-1 {
        background-color: #e3f2fd;
    } /* Light Blue */
    .member-2 {
        background-color: #f3e5f5;
    } /* Light Purple */
    .member-3 {
        background-color: #e8f5e9;
    } /* Light Green */

    .member-header {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        margin-bottom: 1rem;
    }

    .member-avatar {
        width: 150px;
        height: 150px;
        border-radius: 12px;
        overflow: hidden;
        margin-bottom: 1rem;
        border: 3px solid white;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .member-avatar :global(.imgur-container) {
        margin: 0;
        width: 100%;
        height: 100%;
    }

    .member-avatar :global(img) {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .member-info h3 {
        margin: 0;
        font-size: 1.2rem;
        color: var(--color-primary);
    }

    .member-info .member-identifier {
        display: block;
        font-size: 0.85rem;
        font-weight: normal;
        color: #666;
        margin-top: 0.2rem;
    }

    .member-role {
        font-size: 0.8rem;
        color: #555;
        margin-top: 0.5rem;
        font-weight: bold;
        background: rgba(255, 255, 255, 0.6);
        padding: 0.2rem 0.5rem;
        border-radius: 4px;
        display: inline-block;
    }

    .member-details p {
        font-size: 0.9rem;
        line-height: 1.6;
        color: #444;
        text-align: center;
    }
</style>
